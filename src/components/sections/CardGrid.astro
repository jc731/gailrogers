---
interface Props {
  title?: string;
  cards: Array<{
    title: string;
    content: string;
    link?: string;
    image?: string;
  }>;
  columns?: number;
}

const { title, cards, columns = 3 } = Astro.props;
const gridCols = columns === 2 ? 'md:grid-cols-2' : columns === 3 ? 'md:grid-cols-3' : 'md:grid-cols-4';
---

<section class="py-12 px-4 md:px-6 lg:px-8">
  <div class="container mx-auto max-w-6xl">
    {title && (
      <h2 class="text-3xl font-bold mb-8 text-center">{title}</h2>
    )}
    <div class={`grid grid-cols-1 ${gridCols} gap-6`}>
      {cards.map((card) => {
        const CardContent = (
          <>
            {card.image && (
              <img src={card.image} alt={card.title} class="w-full h-48 object-cover rounded-t-lg" />
            )}
            <div class="p-6">
              <h3 class="text-xl font-semibold mb-3">{card.title}</h3>
              <p class="text-gray-700">{card.content}</p>
            </div>
          </>
        );
        
        return card.link ? (
          <a 
            href={card.link}
            class="block bg-white rounded-lg shadow-md hover:shadow-lg focus-ring transition-shadow"
          >
            {CardContent}
          </a>
        ) : (
          <div class="bg-white rounded-lg shadow-md">
            {CardContent}
          </div>
        );
      })}
    </div>
  </div>
</section>

